<!DOCTYPE html>
<html>
<!--ph·∫ßn ƒë·∫ßu-->
<head>
    <title>Baotri</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/2f8895050a.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <link href='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/main.min.css' rel='stylesheet' />

    <style>
        .list-group.item3 {
            background-color: #001F54;
            color: #FEFCFB !important;
        }
    </style>
</head>
<body>
    <div class="Navigator">
        <div id="title">
            H·ªÜ TH·ªêNG QU·∫¢N L√ù V·∫¨T T∆Ø Y T·∫æ
        </div>
        <div class="list-group">
            <a class="list-group item1" href="Trangchu.html">
                <i class="fa-solid fa-chart-simple"></i>
                T·ªïng quan
            </a>
            <a class="list-group item2" href="Thietbi.html">
                <i class="fa-solid fa-bed"></i>
                Thi·∫øt b·ªã
            </a>
            <a class="list-group item3" href="Baotri_Suachua.html">
                <i class="fa-solid fa-screwdriver-wrench"></i>
                B·∫£o tr√¨ - s·ª≠a ch·ªØa
            </a>
            <a class="list-group item4" href="Kho.html">
                <i class="fa-solid fa-warehouse"></i>
                Kho - chuy·ªÉn thi·∫øt b·ªã
            </a>
            <a class="list-group item5" href="Taichinh-Hopdong.html">
                <i class="fa-solid fa-file-invoice-dollar"></i>
                T√†i ch√≠nh - H·ª£p ƒë·ªìng
            </a>
            <a class="list-group item6" href="Phuluc.html">
                <i class="fa-solid fa-rectangle-list"></i>
                Ph·ª• l·ª•c - Tra c·ª©u m√£
            </a>
        </div>
    </div>
    <div class="Main">
        <div class="surgery-schedule">
            <div class="surgery-major">
                <div class="surgery-title">
                    B·∫¢O TR√å
                </div>
            </div>
        </div>

        <nav class="menu">
            <a href="#thongtin">Danh s√°ch th√¥ng tin b·∫£o tr√¨</a>
            <a href="#kehoach">K·∫ø ho·∫°ch b·∫£o tr√¨</a>
            <a href="#thongbao">Ti·∫øn ƒë·ªô - Th√¥ng b√°o</a>
        </nav>   


        <div class="maintain-data">
            <section class="maintain-title" id="thongtin">
                1. Danh s√°ch b·∫£o tr√¨
            </section>
            <div class="maintain-table">
                <div class="surgery-table">
                    <table id="surgery-table">
                        <div class="wrap-sreach">
                            <input name="searchString" class="search" style="width: 21rem;" type="text" placeholder="üîçƒêi·ªÅn th√¥ng tin">
                            
                            <input type="month" id="filter-date">

                            <button class="searchingpatient" style="color: white;border: 1px #001F54 solid;font-size: 1.1rem; font-family: lato; padding: 0.5rem 1rem;background-color: #1282A2;border-radius: 8px;" type="submit">
                                <i class="fa-solid fa-magnifying-glass"></i>
                                T√¨m Ki·∫øm
                            </button>
                        </div>

                        <table id="dataTable" style="width:100%;">
                            <thead>
                                <tr>
                                    <th>T√™n thi·∫øt b·ªã<br></th>
                                    <th>Ng√†y b·∫£o tr√¨</th>
                                    <th>V·ªã tr√≠ hi·ªán t·∫°i</th>
                                    <th>T√¨nh tr·∫°ng</th>
                                    <th> Xem th√™m </th>
                                </tr>
                            </thead>

                            <tbody>
                                <tr>
                                    <td id="facility"> M√°y th·ªü Philip </td>
                                    <td id="facility"> 31/3/2025 </td>
                                    <td id="facility"> Kho </td>
                                    <td id="facility"> Ch∆∞a b·∫£o tr√¨ </td >
                                    <td id="facility"> 
                                        <div class="dropdown">
                                            <i class="bi bi-three-dots dropdown-toggle-icon" style="cursor: pointer;"></i>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td id="facility"> M√°y si√™u √¢m doppler </td>
                                    <td id="facility"> N/A </td>
                                    <td id="facility"> Khoa ph·ª• s·∫£n </td>
                                    <td id="facility"> Ch∆∞a b·∫£o tr√¨ </td >
                                    <td id="facility"> 
                                        <div class="dropdown">
                                            <i class="bi bi-three-dots dropdown-toggle-icon" style="cursor: pointer;"></i>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>

                        </table>
                        
                        <div id="floatingDropdown" class="floating-dropdown" style="display: none;">
                            <a href="#">Chi ti·∫øt th√¥ng tin thi·∫øt b·ªã</a>
                            <a href="#">Ch·ªânh s·ª≠a l·ªãch b·∫£o tr√¨</a>
                        </div>
                    
                    </table>
                </div>
            </div>
        </div>

        <div class="maintain-data">
            <section class="maintain-title" id="kehoach">
                2. K·∫ø ho·∫°ch b·∫£o tr√¨
            </section>

            <div class="repair-request-form" style="max-width: none;" onsubmit="handleSubmit(event)">
                <div class="planer-form">
                    <label>Thi·∫øt b·ªã:</label>
                    <input type="text" placeholder="Nh·∫≠p t√™n thi·∫øt b·ªã trong danh s√°ch tr√™n" style="width: 18rem; margin-right: 1rem;" />
                    
                    <label>Ng√†y b·∫£o tr√¨:</label>
                    <input type="date" />
                </div> <br>
                <div class="planer-form">
                    <label>Ng∆∞·ªùi ph·ª• tr√°ch giao nh·∫≠n thi·∫øt b·ªã:</label>
                    <input type="text" style="margin-right: 1rem;" />
                    
                    <label>
                        
                        <i class="fa-solid fa-phone" style="margin-right: 0.25rem;"></i>
                        S·ªë ƒëi·ªán tho·∫°i li√™n h·ªá:</label>
                    <input type="tel" name="phone" pattern="[0-9]{10}" placeholder="0123456789" />
                    </div><br>
    
                <div class="planer-form">
                    <label>Ng∆∞·ªùi ph·ª• tr√°ch b·∫£o tr√¨:</label>
                    <input type="text" style="margin-right: 1rem;"  />
                    
                    <label>
                        <i class="fa-solid fa-phone" style="margin-right: 0.25rem;"></i>
                        S·ªë ƒëi·ªán tho·∫°i li√™n h·ªá:</label>
                    <input type="tel" name="phone" pattern="[0-9]{10}" placeholder="0123456789" />
                    </div> <br>
                <button >L∆∞u</button>
                <button >ƒê·∫∑t l·∫°i</button>
            </form>
            </div>
        </div>

        <div class="maintain-data">
            <section class="maintain-title" id="thongbao">
                3. Ti·∫øn ƒë·ªô - Th√¥ng b√°o
            </section>
            <div class="maintenance-dashboard">
                <!-- Qu√° h·∫°n -->
                <div class="status-column overdue">
                  <h3> ‚õî Qu√° h·∫°n b·∫£o tr√¨</h3>
                  <div class="device-item">
                    <strong>M√°y x√©t nghi·ªám huy·∫øt h·ªçc</strong>
                    H·∫°n: 05/04/2025<br>
                    V·ªã tr√≠: Khoa X√©t nghi·ªám
                    <div style="padding-top: 0.5rem;">
                        <button id="popup-button" class="reschedule-btn" onclick="openRescheduleModal('M√°y x√©t nghi·ªám huy·∫øt h·ªçc')">üìÖ L·∫≠p l·∫°i l·ªãch</button>
                        <button id="popup-button" onclick="sendReminder('M√°y th·ªü Philip', 'Nguy·ªÖn VƒÉn A', '0987654321')"> üì© G·ª≠i nh·∫Øc</button>
                    </div>
                  </div>
                </div>
              
                <!-- S·∫Øp ƒë·∫øn h·∫°n -->
                <div class="status-column comingup">
                  <h3>üïí S·∫Øp ƒë·∫øn h·∫°n</h3>
                  <div class="device-item">
                    <strong>M√°y th·ªü Philip</strong>
                    H·∫°n: 10/04/2025<br>
                    V·ªã tr√≠: Ph√≤ng ICU
                    <div style="padding-top: 0.5rem;">
                        <button id="popup-button" class="reschedule-btn" onclick="openRescheduleModal('M√°y x√©t nghi·ªám huy·∫øt h·ªçc')">üìÖ L·∫≠p l·∫°i l·ªãch</button>
                        <button id="popup-button" onclick="sendReminder('M√°y th·ªü Philip', 'Nguy·ªÖn VƒÉn A', '0987654321')"> üì© G·ª≠i nh·∫Øc</button>
                    </div>
                  </div>
                </div>
              
                <!-- ƒê√£ ho√†n th√†nh ho·∫∑c l√™n l·ªãch -->
                <div class="status-column completed">
                  <h3>‚úÖ ƒê√£ b·∫£o tr√¨ / L√™n l·ªãch</h3>
                  <div class="device-item">
                    <strong>M√°y si√™u √¢m</strong>
                    ƒê√£ b·∫£o tr√¨ ng√†y: 01/04/2025<br>
                    Ng∆∞·ªùi ph·ª• tr√°ch: Nguy·ªÖn VƒÉn A
                    <div style="padding-top: 0.5rem;">
                        <button id="popup-button" class="reschedule-btn" onclick="openRescheduleModal('M√°y x√©t nghi·ªám huy·∫øt h·ªçc')">üìÖ L·∫≠p l·∫°i l·ªãch</button>
                        <button id="popup-button" onclick="sendReminder('M√°y th·ªü Philip', 'Nguy·ªÖn VƒÉn A', '0987654321')"> üì© G·ª≠i nh·∫Øc</button>
                    </div>
                </div>
            </div>
            <div id="rescheduleModal" class="modal">
                <div class="modal-content">
                    <div style="text-align: center; font-family: Lato; color: #001F54; font-size: 1.5rem; font-weight: 800; text-transform: uppercase;">
                        L·∫≠p l·∫°i l·ªãch b·∫£o tr√¨
                    </div><br>
                    <form id="rescheduleForm">
                        <label>T√™n thi·∫øt b·ªã:</label>
                        <input type="text" id="deviceName" style="margin-right:1rem;" readonly />

                        <label>Ng√†y b·∫£o tr√¨ m·ªõi:</label>
                        <input type="date" id="newDate" required /><br><br>

                        <button id="popup-button-reschedule" type="submit">C·∫≠p nh·∫≠t</button>
                        <button id="popup-button-reschedule" type="button" onclick="closeRescheduleModal()">Hu·ª∑</button>
                    </form>
                </div>
            </div>
        </div>
        </div>
     
    <script> /* modal */
        function openRescheduleModal(deviceName) {
            document.getElementById("rescheduleModal").style.display = "flex";
            document.getElementById("deviceName").value = deviceName;
            }

        function closeRescheduleModal() {
            document.getElementById("rescheduleModal").style.display = "none";
            }

        document.getElementById("rescheduleForm").addEventListener("submit", function (e) {
            e.preventDefault();
            const newDate = document.getElementById("newDate").value;
            const device = document.getElementById("deviceName").value;

            alert(`ƒê√£ c·∫≠p nh·∫≠t b·∫£o tr√¨ cho thi·∫øt b·ªã "${device}" v√†o ng√†y ${newDate}`);
            closeRescheduleModal();
            });
    </script>

    <script> /* g·ª≠i nh·∫Øc nh·ªü */
        function sendReminder(device, person, phone) {
            alert(`ƒê√£ g·ª≠i nh·∫Øc cho ${person} (sƒët: ${phone}) v·ªÅ thi·∫øt b·ªã: ${device}`);
            }

    </script>

    <script> /* Dropdown */
        document.addEventListener('DOMContentLoaded', function () {
            const dropdown = document.getElementById('floatingDropdown');
            let activeIcon = null;
        
            document.querySelectorAll('.dropdown-toggle-icon').forEach(icon => {
                icon.addEventListener('click', function (e) {
                    e.stopPropagation(); // NgƒÉn click lan ra ngo√†i
                    const rect = icon.getBoundingClientRect();
        
                    dropdown.style.top = rect.bottom + window.scrollY + 'px';
                    dropdown.style.left = rect.left + window.scrollX + 'px';
        
                    // Toggle hi·ªÉn th·ªã
                    if (dropdown.style.display === 'block' && activeIcon === icon) {
                        dropdown.style.display = 'none';
                        activeIcon = null;
                    } else {
                        dropdown.style.display = 'block';
                        activeIcon = icon;
                    }
                });
            });
        
            // ·∫®n dropdown n·∫øu click ngo√†i
            document.addEventListener('click', function (e) {
                if (!dropdown.contains(e.target)) {
                    dropdown.style.display = 'none';
                    activeIcon = null;
                }
            });
        });
    </script>

</body>